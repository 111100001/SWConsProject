<div dir="rtl">
## ClassDef Order
**Order**: وظيفة الكلاس Order هي تمثيل طلب (Order) في قاعدة البيانات، حيث يتم تخزين معلومات الطلب مثل معرف الطلب، اسم العميل، تاريخ الطلب، والعناصر المرتبطة بالطلب.

**attributes**: السمات (Attributes) الخاصة بهذا الكلاس.
· `order_id`: معرف الطلب (Primary Key) من نوع Integer، وهو المعرف الفريد لكل طلب في الجدول.
· `customer_name`: اسم العميل من نوع String بطول 30 حرفًا، وهو حقل إلزامي (nullable=False) ولا يمكن أن يكون فارغًا.
· `order_date`: تاريخ الطلب من نوع DateTime، وهو حقل إلزامي (nullable=False) ويتم تعيينه تلقائيًا إلى الوقت الحالي عند إنشاء الطلب إذا لم يتم تحديد قيمة له.
· `order_items`: علاقة (relationship) مع الكلاس OrderItem، حيث يتم تمثيل العناصر المرتبطة بالطلب. يتم استخدام خيار cascade="all, delete-orphan" لضمان حذف العناصر المرتبطة عند حذف الطلب، كما يتم استخدام backref="order" لإنشاء مرجع عكسي من OrderItem إلى Order.

**Code Description**: وصف الكلاس.
يُعتبر الكلاس Order نموذجًا (Model) لجدول في قاعدة البيانات يُسمى "order". يحتوي هذا الجدول على عدة أعمدة تمثل خصائص الطلب، مثل معرف الطلب (order_id) الذي يعمل كمفتاح أساسي (Primary Key)، واسم العميل (customer_name) الذي يجب أن يكون موجودًا ولا يمكن أن يكون فارغًا. بالإضافة إلى ذلك، يتم تخزين تاريخ الطلب (order_date) الذي يتم تعيينه تلقائيًا إلى الوقت الحالي عند إنشاء الطلب إذا لم يتم تحديد قيمة له.

يحتوي الكلاس أيضًا على علاقة (relationship) مع الكلاس OrderItem، حيث يتم تمثيل العناصر المرتبطة بالطلب. يتم استخدام خيار cascade="all, delete-orphan" لضمان حذف العناصر المرتبطة عند حذف الطلب، كما يتم استخدام backref="order" لإنشاء مرجع عكسي من OrderItem إلى Order.

يحتوي الكلاس على دالة إنشاء (__init__) تأخذ اسم العميل كمعامل وتقوم بتعيينه إلى السمة customer_name.

**Note**: ملاحظات حول استخدام الكود.
1. عند إنشاء كائن من الكلاس Order، يجب تمرير اسم العميل كمعامل للدالة __init__.
2. يتم تعيين تاريخ الطلب تلقائيًا إلى الوقت الحالي إذا لم يتم تحديد قيمة له.
3. العلاقة مع OrderItem تسمح بإدارة العناصر المرتبطة بالطلب بسهولة، مع ضمان حذفها تلقائيًا عند حذف الطلب.
### FunctionDef __init__(self, customer_name)
**__init__**: وظيفة `__init__` هي تهيئة كائن من الفئة `Order` وتعيين قيمة لخاصية `customer_name`.

**parameters**: معاملات هذه الوظيفة.
· `customer_name`: اسم العميل الذي سيتم تعيينه للطلب. هذا المعامل هو نص (string) يمثل اسم العميل.

**Code Description**: 
تُستخدم وظيفة `__init__` لتهيئة كائن من الفئة `Order`. عند إنشاء كائن جديد من هذه الفئة، يتم تمرير اسم العميل كمعامل إلى الوظيفة. تقوم الوظيفة بتعيين قيمة هذا المعامل إلى الخاصية `customer_name` الخاصة بالكائن. بمعنى آخر، تُخزن قيمة `customer_name` داخل الكائن بحيث يمكن الوصول إليها لاحقًا عند الحاجة.

**Note**: 
- يجب أن يتم تمرير قيمة نصية (string) لمعامل `customer_name` عند إنشاء كائن من الفئة `Order`.
- هذه الوظيفة تُنفذ تلقائيًا عند إنشاء كائن جديد من الفئة، ولا تحتاج إلى استدعائها يدويًا.
***
## ClassDef Item
**Item**: وظيفة الفئة Item هي تمثيل عنصر (item) في قاعدة البيانات، حيث تحتوي على معلومات أساسية مثل الوصف والسعر.

**attributes**: السمات الخاصة بهذه الفئة.
· `item_id`: معرف فريد للعنصر، وهو المفتاح الأساسي في الجدول.
· `description`: وصف العنصر، وهو حقل نصي لا يمكن أن يكون فارغًا.
· `price`: سعر العنصر، وهو حقل رقمي لا يمكن أن يكون فارغًا.

**Code Description**: 
تمثل الفئة Item جدولًا في قاعدة البيانات يُسمى "item"، حيث يتم تخزين المعلومات الأساسية للعناصر. تحتوي الفئة على ثلاثة أعمدة رئيسية:
1. `item_id`: وهو العمود الرئيسي الذي يعمل كمعرف فريد لكل عنصر.
2. `description`: عمود نصي يخزن وصف العنصر، ولا يمكن أن يكون فارغًا.
3. `price`: عمود رقمي يخزن سعر العنصر، ولا يمكن أن يكون فارغًا.

تحتوي الفئة أيضًا على دالة إنشاء (`__init__`) تقوم بتهيئة الكائن بقيم الوصف والسعر. بالإضافة إلى ذلك، تحتوي الفئة على دالة `__repr__` التي تُستخدم لتمثيل الكائن كنص عند طباعته أو عرضه، حيث تعرض الوصف والسعر.

في المشروع، يتم استخدام الفئة Item من قبل الفئة OrderItem، حيث يتم إنشاء علاقة بين العنصر (Item) والطلبية (Order) من خلال الجدول الوسيط "orderitem". العلاقة بين الفئتين تُعرف باستخدام `relationship` في الفئة OrderItem، مما يسمح بالوصول إلى معلومات العنصر مباشرة من خلال الكائن OrderItem.

**Note**: 
- يجب التأكد من أن قيم `description` و `price` يتم تمريرها بشكل صحيح عند إنشاء كائن Item، حيث أن هذه الحقول لا يمكن أن تكون فارغة.
- العلاقة مع الفئة OrderItem تعتمد على المفتاح الخارجي `item_id`، مما يضمن تكامل البيانات بين الجدولين.

**Output Example**: 
عند استدعاء دالة `__repr__`، قد يظهر الناتج كالتالي:
```
Item('Laptop', 1200.0)
```
حيث يمثل هذا الناتج وصف العنصر ("Laptop") وسعره (1200.0).
### FunctionDef __init__(self, description, price)
**__init__**: وظيفة `__init__` هي تهيئة كائن من الفئة `Item` بقيم محددة للوصف والسعر.

**parameters**: معاملات هذه الوظيفة.
· `description`: وصف العنصر (من نوع نصي `str`).
· `price`: سعر العنصر (من نوع رقمي `float` أو `int`).

**Code Description**: 
تقوم هذه الوظيفة بتهيئة كائن من الفئة `Item` عن طريق تعيين قيمتين: الوصف (`description`) والسعر (`price`). عند إنشاء كائن جديد من هذه الفئة، يتم تمرير هاتين القيمتين كمعاملات، ويتم تعيينهما كسمات للكائن (`self.description` و `self.price`). هذه السمات يمكن الوصول إليها لاحقًا من خلال الكائن لاستخدامها في عمليات أخرى.

**Note**: 
- يجب أن تكون القيم الممررة إلى `description` و `price` من الأنواع المناسبة (نصي لـ `description` و رقمي لـ `price`) لتجنب حدوث أخطاء أثناء التشغيل.
- هذه الوظيفة تُستدعى تلقائيًا عند إنشاء كائن جديد من الفئة `Item`، ولا تحتاج إلى استدعائها يدويًا.
***
### FunctionDef __repr__(self)
**__repr__**: وظيفة `__repr__` هي إرجاع تمثيل نصي (string) للكائن يمكن استخدامه لإعادة إنشاء الكائن بشكل دقيق.

**parameters**: لا تحتوي هذه الدالة على أي معاملات (parameters) إضافية بخلاف الكائن نفسه (`self`).

**Code Description**: تقوم الدالة `__repr__` بإرجاع تمثيل نصي للكائن من خلال استخدام التنسيق `"Item(%r, %r)"`. يتم استبدال الرموز النسبية `%r` بقيم `self.description` و `self.price`، وهي سمات (attributes) خاصة بالكائن. التنسيق `%r` يستخدم التمثيل الرسمي (repr) للقيم، مما يضمن أن القيم المعروضة تكون دقيقة وقابلة لإعادة الاستخدام في الكود. النتيجة النهائية هي نص يمثل الكائن بشكل يمكن قراءته وفهمه بواسطة المطورين، كما يمكن استخدامه لإعادة إنشاء الكائن إذا لزم الأمر.

**Note**: يُفضل استخدام `__repr__` عند الحاجة إلى تمثيل نصي دقيق للكائن، خاصة للأغراض التصحيحية (debugging) أو عند الحاجة إلى إعادة إنشاء الكائن. يجب أن يكون التمثيل النصي واضحًا وموحدًا لتسهيل الفهم.

**Output Example**: إذا كانت قيمة `self.description` هي `"كتاب"` وقيمة `self.price` هي `50`، فإن الناتج سيكون:
```
Item('كتاب', 50)
```
***
## ClassDef OrderItem
**OrderItem**: وظيفة الفئة OrderItem هي تمثيل العلاقة بين الطلبية (Order) والعنصر (Item) في قاعدة البيانات، حيث تخزن معلومات السعر المحدد للعنصر في الطلبية.

**attributes**: السمات الخاصة بهذه الفئة.
· `order_id`: معرف فريد للطلبية، وهو جزء من المفتاح الأساسي ويشير إلى الطلبية المرتبطة بهذا العنصر.
· `item_id`: معرف فريد للعنصر، وهو جزء من المفتاح الأساسي ويشير إلى العنصر المرتبط بهذه الطلبية.
· `price`: سعر العنصر في هذه الطلبية، وهو حقل رقمي لا يمكن أن يكون فارغًا.

**Code Description**: 
تمثل الفئة OrderItem جدولًا في قاعدة البيانات يُسمى "orderitem"، حيث يتم تخزين العلاقة بين الطلبية والعنصر. يحتوي الجدول على ثلاثة أعمدة رئيسية:
1. `order_id`: وهو جزء من المفتاح الأساسي ويشير إلى الطلبية المرتبطة بهذا العنصر. يتم تعريفه كمفتاح خارجي يشير إلى الجدول "order".
2. `item_id`: وهو جزء من المفتاح الأساسي ويشير إلى العنصر المرتبط بهذه الطلبية. يتم تعريفه كمفتاح خارجي يشير إلى الجدول "item".
3. `price`: عمود رقمي يخزن سعر العنصر في هذه الطلبية، ولا يمكن أن يكون فارغًا.

تحتوي الفئة أيضًا على دالة إنشاء (`__init__`) تقوم بتهيئة الكائن بقيم العنصر والسعر. إذا لم يتم تحديد السعر، يتم استخدام السعر الافتراضي للعنصر.

تم تعريف علاقة (`relationship`) مع الفئة Item باستخدام `lazy="joined"`، مما يسمح بتحميل معلومات العنصر المرتبط مباشرة عند استعلام OrderItem. هذه العلاقة تعتمد على المفتاح الخارجي `item_id`، مما يضمن تكامل البيانات بين الجدولين.

**Note**: 
- يجب التأكد من أن قيم `order_id` و `item_id` يتم تمريرها بشكل صحيح عند إنشاء كائن OrderItem، حيث أن هذه الحقول تشكل المفتاح الأساسي للجدول.
- العلاقة مع الفئة Item تسمح بالوصول إلى معلومات العنصر مباشرة من خلال الكائن OrderItem، مما يسهل استرداد البيانات المرتبطة.
- في حالة عدم تحديد السعر في دالة الإنشاء، يتم استخدام السعر الافتراضي للعنصر، مما يضمن عدم وجود قيم فارغة في حقل `price`.
### FunctionDef __init__(self, item, price)
**__init__**: وظيفة `__init__` هي تهيئة كائن من الفئة `OrderItem` وتعيين القيم الأولية للخصائص.

**parameters**: معاملات هذه الوظيفة.
· `item`: العنصر الذي سيتم تعيينه للخاصية `item` في الكائن.
· `price`: السعر الذي سيتم تعيينه للخاصية `price` في الكائن. إذا لم يتم توفير قيمة لهذا المعامل، سيتم استخدام سعر العنصر الموجود في `item`.

**Code Description**: 
تقوم هذه الوظيفة بتهيئة كائن من الفئة `OrderItem` عن طريق تعيين القيم المقدمة إلى الخصائص المناسبة. يتم تعيين المعامل `item` مباشرة إلى الخاصية `self.item`. بالنسبة للمعامل `price`، يتم التحقق مما إذا كانت قيمة `price` قد تم توفيرها أم لا. إذا لم يتم توفير قيمة لـ `price`، يتم استخدام سعر العنصر الموجود في `item` كقيمة افتراضية لـ `self.price`.

**Note**: 
- إذا كان العنصر `item` يحتوي على خاصية `price`، فيمكن استخدامها كقيمة افتراضية لـ `price` في حالة عدم توفير قيمة صريحة.
- يجب التأكد من أن العنصر `item` يحتوي على خاصية `price` إذا كان من المتوقع استخدامها كقيمة افتراضية.
***
</div>
